<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Card-Game</title>
    <meta name="author" content="Lara Mesa Cubas">
    <meta name="description"
        content="Juego de cartas de memoria desarrollado utilizando tecnologías web como JavaScript, HTML y CSS. Adaptado a diferentes dispositivos, gracias a su diseño responsive. Ya sea que juegues en un ordenador de escritorio, una tableta o un teléfono móvil, la experiencia de juego será óptima y fácil de disfrutar en cualquier pantalla.">

</head>

<body class="flex">
    <div class="container flex">
        <h1>Memory Card</h1>
        <div class="card grid">
        </div>
        <button class="my20" onclick="window.location.reload()">Reset Game</button>
    </div>
</body>

<script>
        const emojis = ["🐶", "🐶", "🐸", "🐸", "🦓", "🦓", "🦝", "🦝", "🐹", "🐹", "🐮", "🐮", "🦊", "🦊", "🐰", "🐰"];
        var asignar_emojis = emojis.sort(() => (Math.random() > .2) ? 1 : -1);
        var bocaArriba = [];

        function verificarVictoria() {
    if (document.querySelectorAll('.boxMatch').length === emojis.length) {
        alert('¡Felicidades! ¡Has ganado el juego!');
            }
}

        for (var i = 0; i < emojis.length; i++) {
            let box = document.createElement('div')
            box.className = 'animal';
            box.innerHTML = asignar_emojis[i]

            box.onclick = function () {
                this.classList.add('boxOpen');
                bocaArriba.push(this);

                if (bocaArriba.length === 2) {
                    setTimeout(function () {
                        if (bocaArriba[0].innerHTML === bocaArriba[1].innerHTML) {
                            bocaArriba.forEach(box => box.classList.add('boxMatch'));
                        } else {
                            bocaArriba.forEach(box => box.classList.remove('boxOpen'));
                        }
                        bocaArriba = [];
                        verificarVictoria();
                    }, 500);
                }
            }

            document.querySelector('.card').appendChild(box);
        }

</script>

</html>